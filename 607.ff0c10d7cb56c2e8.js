"use strict";(self.webpackChunkrepo=self.webpackChunkrepo||[]).push([[607],{8607:(T,h,u)=>{u.r(h),u.d(h,{AuthenticationModule:()=>P});var s=u(180),o=u(95),d=u(9489),t=u(4946),m=u(6402),f=u(9240),r=u(6814),g=u(707),v=u(3714),x=u(7018),_=u(1423);function A(n,c){1&n&&(t.TgZ(0,"small",16),t._uU(1,"\u041d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),t.qZA())}function C(n,c){1&n&&(t.TgZ(0,"small",17),t._uU(1,"\u041d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),t.qZA())}const p=function(n){return{"ng-invalid ng-dirty":n}},b=function(){return["/"]};function y(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5),t._uU(2,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),t.qZA(),t.TgZ(3,"div",6)(4,"label",7),t._uU(5,"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),t.qZA(),t._UZ(6,"input",8),t.YNc(7,A,2,0,"small",9),t.qZA(),t.TgZ(8,"div",6)(9,"label",10),t._uU(10,"\u041f\u0430\u0440\u043e\u043b\u044c"),t.qZA(),t._UZ(11,"p-password",11),t.YNc(12,C,2,0,"small",12),t.qZA(),t.TgZ(13,"div",13)(14,"p-button",14),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.showDialog())}),t.qZA(),t._UZ(15,"p-button",15),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(6),t.Q6J("ngClass",t.VKq(8,p,e.submit&&e.form.get("username").hasError("required"))),t.xp6(1),t.Q6J("ngIf",e.submit&&e.form.get("username").hasError("required")),t.xp6(4),t.Q6J("feedback",!1)("ngClass",t.VKq(10,p,e.submit&&e.form.get("password").hasError("required"))),t.xp6(1),t.Q6J("ngIf",e.submit&&e.form.get("password").hasError("required")),t.xp6(2),t.Q6J("outlined",!0),t.xp6(1),t.Q6J("outlined",!0)("routerLink",t.DdM(12,b))}}function Z(n,c){1&n&&(t.TgZ(0,"div",18)(1,"h1"),t._uU(2,"\u0412\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b"),t.qZA()())}const E=[{path:"",component:(()=>{class n{constructor(e,i,a,l,M){this.fb=e,this.toDoListService=i,this.authenticationService=a,this.toastr=l,this.router=M,this.visible=!0,this.submit=!1,this.isAuthenticated=!1}ngOnInit(){this.initForm(),this.setAuthStatus()}initForm(){this.form=this.fb.group({username:[null,o.kI.required],password:[null,o.kI.required]})}showDialog(){this.submit=!0,this.form.valid&&this.auth(this.form.value)}setAuthStatus(){this.isAuthenticated=this.authenticationService.isAuthenticated()}auth(e){this.subscription=this.authenticationService.login(e).subscribe(i=>{"error"===i.status?this.toastr.set(i.message.password,"error"):(this.setAuthStatus(),this.router.navigate(["/"]))})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(o.qu),t.Y36(d.c),t.Y36(m.$),t.Y36(f._),t.Y36(s.F0))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-authentication-page"]],decls:6,vars:3,consts:[[1,"authentication"],[1,"authentication__form",3,"formGroup"],["class","authentication__content",4,"ngIf","ngIfElse"],["authenticated",""],[1,"authentication__content"],[1,"authentication__title"],[1,"authentication__input"],["for","username"],["pInputText","","id","username","aria-describedby","username-help","formControlName","username",3,"ngClass"],["id","username-error","style","color: red",4,"ngIf"],["for","pass"],["id","pass","formControlName","password",1,"authentication__path-value",3,"feedback","ngClass"],["id","pass-error","style","color: red",4,"ngIf"],[1,"authentication__buttons"],["label","\u0412\u043e\u0439\u0442\u0438","severity","secondary",3,"outlined","click"],["label","\u041e\u0442\u043c\u0435\u043d\u0430","severity","secondary",3,"outlined","routerLink"],["id","username-error",2,"color","red"],["id","pass-error",2,"color","red"],[1,"authentication__title-auth"]],template:function(i,a){if(1&i&&(t.TgZ(0,"div",0)(1,"form",1),t.YNc(2,y,16,13,"div",2),t.YNc(3,Z,3,0,"ng-template",null,3,t.W1O),t.qZA()(),t._UZ(5,"p-toast")),2&i){const l=t.MAs(4);t.xp6(1),t.Q6J("formGroup",a.form),t.xp6(1),t.Q6J("ngIf",!a.isAuthenticated)("ngIfElse",l)}},dependencies:[r.mk,r.O5,g.zx,v.o,s.rH,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,x.FN,_.ro],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;flex:1 1 auto}.authentication[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.authentication__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px;background-color:#fff;min-width:400px;min-height:330px;border-radius:10px;box-shadow:0 0 20px 10px #00000008}.authentication__title[_ngcontent-%COMP%]{margin-bottom:24px;font-size:24px;font-weight:700}.authentication__input[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:24px;gap:.1rem}.authentication__buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem}.authentication__title-auth[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex:1 1 auto}.authentication__title-auth[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-weight:700;font-size:40px}  app-authentication-page .authentication__path-value .p-password,   app-authentication-page .authentication__path-value .p-password-input{width:100%}  app-authentication-page .p-button.p-button-secondary.p-button-outlined{border:1px solid #d7d7d7}"]})}return n})()}];let F=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275mod=t.oAB({type:n});static#e=this.\u0275inj=t.cJS({imports:[r.ez,s.Bz.forChild(E),s.Bz]})}return n})(),P=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#n=this.\u0275mod=t.oAB({type:n});static#e=this.\u0275inj=t.cJS({imports:[r.ez,F]})}return n})()}}]);